{"ast":null,"code":"var _jsxFileName = \"D:\\\\nnaik\\\\ShopKart\\\\ShopKart\\\\frontend\\\\src\\\\pages\\\\CategoryPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useParams, useNavigate, useSearchParams } from 'react-router-dom';\nimport { Container, Row, Col, Card, Button, Nav, Breadcrumb, Alert } from 'react-bootstrap';\nimport ProductCard from '../components/ProductCard';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { productAPI } from '../api/productAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CategoryPage = () => {\n  _s();\n  const {\n    category\n  } = useParams();\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeSubcategory, setActiveSubcategory] = useState('all');\n  const [sortBy, setSortBy] = useState('relevance');\n\n  // Define subcategories for each main category based on actual products\n  const subcategoryConfig = {\n    electronics: {\n      title: 'Electronics',\n      subcategories: [{\n        key: 'all',\n        label: 'All Electronics',\n        filter: null\n      }, {\n        key: 'phones',\n        label: 'Phones & Mobile',\n        filter: ['phone', 'iphone', 'mobile', 'smartphone']\n      }, {\n        key: 'laptops',\n        label: 'Laptops & Computers',\n        filter: ['laptop', 'macbook', 'pro', 'computer']\n      }, {\n        key: 'tablets',\n        label: 'Tablets',\n        filter: ['tablet', 'tab', 'ipad', 'samsung']\n      }, {\n        key: 'audio',\n        label: 'Audio & Headphones',\n        filter: ['airpods', 'earbuds', 'headphones', 'audio', 'wireless']\n      }]\n    },\n    fashion: {\n      title: 'Fashion',\n      subcategories: [{\n        key: 'all',\n        label: 'All Fashion',\n        filter: null\n      }, {\n        key: 'women',\n        label: 'Women\\'s Clothing',\n        filter: ['women', 'womens', 'ladies']\n      }, {\n        key: 'men',\n        label: 'Men\\'s Clothing',\n        filter: ['men', 'mens', 'male']\n      }, {\n        key: 'kids',\n        label: 'Kids & Children',\n        filter: ['kids', 'children', 'child', 'rainbow']\n      }, {\n        key: 'footwear',\n        label: 'Shoes & Footwear',\n        filter: ['shoes', 'sneakers', 'boots', 'casual']\n      }, {\n        key: 'outerwear',\n        label: 'Jackets & Outerwear',\n        filter: ['jacket', 'denim', 'classic', 'outerwear']\n      }]\n    },\n    'home-garden': {\n      title: 'Home & Garden',\n      subcategories: [{\n        key: 'all',\n        label: 'All Home & Garden',\n        filter: null\n      }, {\n        key: 'kitchen',\n        label: 'Kitchen & Dining',\n        filter: ['plate', 'dinner', 'cutlery', 'bottle', 'cutting', 'board', 'stainless', 'steel', 'glass', 'water']\n      }, {\n        key: 'cookware',\n        label: 'Cookware',\n        filter: ['pan', 'frying', 'cooking', 'non-stick']\n      }, {\n        key: 'storage',\n        label: 'Storage & Organization',\n        filter: ['container', 'storage', 'airtight', 'food']\n      }, {\n        key: 'garden',\n        label: 'Garden & Plants',\n        filter: ['garden', 'watering', 'plant', 'pot', 'indoor', 'ceramic']\n      }, {\n        key: 'decor',\n        label: 'Home Decor & Lighting',\n        filter: ['lamp', 'pillow', 'throw', 'led', 'table', 'decorative', 'covers']\n      }]\n    },\n    books: {\n      title: 'Books',\n      subcategories: [{\n        key: 'all',\n        label: 'All Books',\n        filter: null\n      }, {\n        key: 'fiction',\n        label: 'Fiction',\n        filter: ['fiction']\n      }, {\n        key: 'educational',\n        label: 'Educational',\n        filter: ['educational']\n      }, {\n        key: 'comics',\n        label: 'Comics',\n        filter: ['comics']\n      }, {\n        key: 'biography',\n        label: 'Biography',\n        filter: ['biography']\n      }]\n    }\n  };\n  const currentConfig = useMemo(() => {\n    return subcategoryConfig[category] || {\n      title: (category === null || category === void 0 ? void 0 : category.charAt(0).toUpperCase()) + (category === null || category === void 0 ? void 0 : category.slice(1)),\n      subcategories: [{\n        key: 'all',\n        label: `All ${category}`,\n        filter: null\n      }]\n    };\n  }, [category]);\n  useEffect(() => {\n    const fetchCategoryProducts = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Convert URL category to backend category format\n        let backendCategory;\n        if (category === 'home-garden') {\n          backendCategory = 'Home & Garden';\n        } else {\n          backendCategory = category.replace('-', ' ');\n        }\n        const data = await productAPI.getProducts({\n          category: backendCategory\n        });\n        setProducts(data.products || []);\n        setFilteredProducts(data.products || []);\n      } catch (error) {\n        console.error('Error fetching category products:', error);\n        setError(error.message || 'Failed to load products');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (category) {\n      fetchCategoryProducts();\n    }\n  }, [category]);\n\n  // Filter products based on subcategory\n  const filterProductsBySubcategory = subcategoryKey => {\n    let filtered;\n    if (subcategoryKey === 'all') {\n      filtered = products;\n    } else {\n      const subcategory = currentConfig.subcategories.find(sub => sub.key === subcategoryKey);\n      if (subcategory !== null && subcategory !== void 0 && subcategory.filter) {\n        const filterTerms = Array.isArray(subcategory.filter) ? subcategory.filter : [subcategory.filter];\n        filtered = products.filter(product => {\n          const searchText = `${product.name} ${product.description}`.toLowerCase();\n          return filterTerms.some(term => searchText.includes(term.toLowerCase()));\n        });\n      } else {\n        filtered = products;\n      }\n    }\n\n    // Apply sorting\n    const sorted = sortProducts(filtered, sortBy);\n    setFilteredProducts(sorted);\n  };\n\n  // Sort products based on selected criteria\n  const sortProducts = (products, sortType) => {\n    const productsCopy = [...products];\n    switch (sortType) {\n      case 'price-low-high':\n        return productsCopy.sort((a, b) => a.price - b.price);\n      case 'price-high-low':\n        return productsCopy.sort((a, b) => b.price - a.price);\n      case 'name-asc':\n        return productsCopy.sort((a, b) => a.name.localeCompare(b.name));\n      case 'name-desc':\n        return productsCopy.sort((a, b) => b.name.localeCompare(a.name));\n      case 'newest':\n        return productsCopy.sort((a, b) => new Date(b.createdAt || b._id) - new Date(a.createdAt || a._id));\n      case 'rating':\n        return productsCopy.sort((a, b) => (b.rating || 0) - (a.rating || 0));\n      case 'relevance':\n      default:\n        return productsCopy;\n      // Return original order\n    }\n  };\n\n  // Handle sort change\n  const handleSortChange = newSortBy => {\n    setSortBy(newSortBy);\n    const sorted = sortProducts(filteredProducts, newSortBy);\n    setFilteredProducts(sorted);\n  };\n  useEffect(() => {\n    // Get subcategory from URL params\n    const subcategory = searchParams.get('subcategory') || 'all';\n    if (subcategory !== activeSubcategory) {\n      setActiveSubcategory(subcategory);\n    }\n  }, [searchParams]);\n\n  // Update filtered products when products or activeSubcategory changes\n  useEffect(() => {\n    if (products.length > 0) {\n      filterProductsBySubcategory(activeSubcategory);\n    }\n  }, [products, activeSubcategory, sortBy]);\n  const handleSubcategoryChange = subcategoryKey => {\n    setActiveSubcategory(subcategoryKey);\n\n    // Update URL params\n    if (subcategoryKey === 'all') {\n      setSearchParams({});\n    } else {\n      setSearchParams({\n        subcategory: subcategoryKey\n      });\n    }\n\n    // Immediately filter products for real-time updates\n    filterProductsBySubcategory(subcategoryKey);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center my-5\",\n        children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"category-page\",\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n      className: \"fade-in mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        onClick: () => navigate('/'),\n        style: {\n          cursor: 'pointer'\n        },\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        active: true,\n        children: currentConfig.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"category-header fade-in mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"display-5 fw-bold text-gradient mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-th-large me-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), currentConfig.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"lead text-muted\",\n        children: [\"Discover amazing products in \", currentConfig.title.toLowerCase()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"filter-card fade-in mb-4\",\n      style: {\n        animationDelay: '0.1s'\n      },\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-filter me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), \"Browse by Category\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav, {\n          variant: \"pills\",\n          className: \"flex-wrap\",\n          children: currentConfig.subcategories.map((subcategory, index) => /*#__PURE__*/_jsxDEV(Nav.Item, {\n            className: \"me-2 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              active: activeSubcategory === subcategory.key,\n              onClick: () => handleSubcategoryChange(subcategory.key),\n              className: \"filter-pill\",\n              style: {\n                animationDelay: `${index * 0.1}s`\n              },\n              children: subcategory.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this)\n          }, subcategory.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-section fade-in\",\n      style: {\n        animationDelay: '0.2s'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-0\",\n          children: [filteredProducts.length, \" Product\", filteredProducts.length !== 1 ? 's' : '', \" Found\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-muted me-2\",\n            children: \"Sort by:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select form-select-sm\",\n            style: {\n              width: 'auto'\n            },\n            value: sortBy,\n            onChange: e => handleSortChange(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"relevance\",\n              children: \"Relevance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"price-low-high\",\n              children: \"Price: Low to High\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"price-high-low\",\n              children: \"Price: High to Low\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"name-asc\",\n              children: \"Name: A to Z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"name-desc\",\n              children: \"Name: Z to A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"newest\",\n              children: \"Newest First\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"rating\",\n              children: \"Customer Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), filteredProducts.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"info\",\n        className: \"text-center py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-search fa-3x mb-3 text-muted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"No products found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-3\",\n          children: \"We couldn't find any products in this category. Try browsing other categories or check back later.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => navigate('/'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-home me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), \"Back to Home\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Row, {\n        children: filteredProducts.map((product, index) => /*#__PURE__*/_jsxDEV(Col, {\n          sm: 12,\n          md: 6,\n          lg: 4,\n          xl: 3,\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fade-in product-card-wrapper\",\n            style: {\n              animationDelay: `${index * 0.1}s`\n            },\n            children: /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: product\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this)\n        }, product._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), filteredProducts.length > 0 && filteredProducts.length >= 12 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-5 fade-in\",\n      style: {\n        animationDelay: '0.5s'\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-primary\",\n        size: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this), \"Load More Products\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n};\n_s(CategoryPage, \"uNuI/+1hMy2qxCVDnl25sG15o/A=\", false, function () {\n  return [useParams, useNavigate, useSearchParams];\n});\n_c = CategoryPage;\nexport default CategoryPage;\nvar _c;\n$RefreshReg$(_c, \"CategoryPage\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useParams","useNavigate","useSearchParams","Container","Row","Col","Card","Button","Nav","Breadcrumb","Alert","ProductCard","Loader","Message","productAPI","jsxDEV","_jsxDEV","CategoryPage","_s","category","navigate","searchParams","setSearchParams","products","setProducts","filteredProducts","setFilteredProducts","loading","setLoading","error","setError","activeSubcategory","setActiveSubcategory","sortBy","setSortBy","subcategoryConfig","electronics","title","subcategories","key","label","filter","fashion","books","currentConfig","charAt","toUpperCase","slice","fetchCategoryProducts","backendCategory","replace","data","getProducts","console","message","filterProductsBySubcategory","subcategoryKey","filtered","subcategory","find","sub","filterTerms","Array","isArray","product","searchText","name","description","toLowerCase","some","term","includes","sorted","sortProducts","sortType","productsCopy","sort","a","b","price","localeCompare","Date","createdAt","_id","rating","handleSortChange","newSortBy","get","length","handleSubcategoryChange","children","className","fileName","_jsxFileName","lineNumber","columnNumber","variant","Item","onClick","style","cursor","active","animationDelay","Body","map","index","Link","width","value","onChange","e","target","sm","md","lg","xl","size","_c","$RefreshReg$"],"sources":["D:/nnaik/ShopKart/ShopKart/frontend/src/pages/CategoryPage.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useParams, useNavigate, useSearchParams } from 'react-router-dom';\nimport { Container, Row, Col, Card, Button, Nav, Breadcrumb, Alert } from 'react-bootstrap';\nimport ProductCard from '../components/ProductCard';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { productAPI } from '../api/productAPI';\n\nconst CategoryPage = () => {\n  const { category } = useParams();\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeSubcategory, setActiveSubcategory] = useState('all');\n  const [sortBy, setSortBy] = useState('relevance');\n\n  // Define subcategories for each main category based on actual products\n  const subcategoryConfig = {\n    electronics: {\n      title: 'Electronics',\n      subcategories: [\n        { key: 'all', label: 'All Electronics', filter: null },\n        { key: 'phones', label: 'Phones & Mobile', filter: ['phone', 'iphone', 'mobile', 'smartphone'] },\n        { key: 'laptops', label: 'Laptops & Computers', filter: ['laptop', 'macbook', 'pro', 'computer'] },\n        { key: 'tablets', label: 'Tablets', filter: ['tablet', 'tab', 'ipad', 'samsung'] },\n        { key: 'audio', label: 'Audio & Headphones', filter: ['airpods', 'earbuds', 'headphones', 'audio', 'wireless'] },\n      ]\n    },\n    fashion: {\n      title: 'Fashion',\n      subcategories: [\n        { key: 'all', label: 'All Fashion', filter: null },\n        { key: 'women', label: 'Women\\'s Clothing', filter: ['women', 'womens', 'ladies'] },\n        { key: 'men', label: 'Men\\'s Clothing', filter: ['men', 'mens', 'male'] },\n        { key: 'kids', label: 'Kids & Children', filter: ['kids', 'children', 'child', 'rainbow'] },\n        { key: 'footwear', label: 'Shoes & Footwear', filter: ['shoes', 'sneakers', 'boots', 'casual'] },\n        { key: 'outerwear', label: 'Jackets & Outerwear', filter: ['jacket', 'denim', 'classic', 'outerwear'] },\n      ]\n    },\n    'home-garden': {\n      title: 'Home & Garden',\n      subcategories: [\n        { key: 'all', label: 'All Home & Garden', filter: null },\n        { key: 'kitchen', label: 'Kitchen & Dining', filter: ['plate', 'dinner', 'cutlery', 'bottle', 'cutting', 'board', 'stainless', 'steel', 'glass', 'water'] },\n        { key: 'cookware', label: 'Cookware', filter: ['pan', 'frying', 'cooking', 'non-stick'] },\n        { key: 'storage', label: 'Storage & Organization', filter: ['container', 'storage', 'airtight', 'food'] },\n        { key: 'garden', label: 'Garden & Plants', filter: ['garden', 'watering', 'plant', 'pot', 'indoor', 'ceramic'] },\n        { key: 'decor', label: 'Home Decor & Lighting', filter: ['lamp', 'pillow', 'throw', 'led', 'table', 'decorative', 'covers'] },\n      ]\n    },\n    books: {\n      title: 'Books',\n      subcategories: [\n        { key: 'all', label: 'All Books', filter: null },\n        { key: 'fiction', label: 'Fiction', filter: ['fiction'] },\n        { key: 'educational', label: 'Educational', filter: ['educational'] },\n        { key: 'comics', label: 'Comics', filter: ['comics'] },\n        { key: 'biography', label: 'Biography', filter: ['biography'] },\n      ]\n    }\n  };\n\n  const currentConfig = useMemo(() => {\n    return subcategoryConfig[category] || {\n      title: category?.charAt(0).toUpperCase() + category?.slice(1),\n      subcategories: [{ key: 'all', label: `All ${category}`, filter: null }]\n    };\n  }, [category]);\n\n  useEffect(() => {\n    const fetchCategoryProducts = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        \n        // Convert URL category to backend category format\n        let backendCategory;\n        if (category === 'home-garden') {\n          backendCategory = 'Home & Garden';\n        } else {\n          backendCategory = category.replace('-', ' ');\n        }\n        \n        const data = await productAPI.getProducts({ category: backendCategory });\n        \n        setProducts(data.products || []);\n        setFilteredProducts(data.products || []);\n      } catch (error) {\n        console.error('Error fetching category products:', error);\n        setError(error.message || 'Failed to load products');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (category) {\n      fetchCategoryProducts();\n    }\n  }, [category]);\n\n  // Filter products based on subcategory\n  const filterProductsBySubcategory = (subcategoryKey) => {\n    let filtered;\n    if (subcategoryKey === 'all') {\n      filtered = products;\n    } else {\n      const subcategory = currentConfig.subcategories.find(sub => sub.key === subcategoryKey);\n      if (subcategory?.filter) {\n        const filterTerms = Array.isArray(subcategory.filter) ? subcategory.filter : [subcategory.filter];\n        filtered = products.filter(product => {\n          const searchText = `${product.name} ${product.description}`.toLowerCase();\n          return filterTerms.some(term => searchText.includes(term.toLowerCase()));\n        });\n      } else {\n        filtered = products;\n      }\n    }\n    \n    // Apply sorting\n    const sorted = sortProducts(filtered, sortBy);\n    setFilteredProducts(sorted);\n  };\n\n  // Sort products based on selected criteria\n  const sortProducts = (products, sortType) => {\n    const productsCopy = [...products];\n    \n    switch (sortType) {\n      case 'price-low-high':\n        return productsCopy.sort((a, b) => a.price - b.price);\n      case 'price-high-low':\n        return productsCopy.sort((a, b) => b.price - a.price);\n      case 'name-asc':\n        return productsCopy.sort((a, b) => a.name.localeCompare(b.name));\n      case 'name-desc':\n        return productsCopy.sort((a, b) => b.name.localeCompare(a.name));\n      case 'newest':\n        return productsCopy.sort((a, b) => new Date(b.createdAt || b._id) - new Date(a.createdAt || a._id));\n      case 'rating':\n        return productsCopy.sort((a, b) => (b.rating || 0) - (a.rating || 0));\n      case 'relevance':\n      default:\n        return productsCopy; // Return original order\n    }\n  };\n\n  // Handle sort change\n  const handleSortChange = (newSortBy) => {\n    setSortBy(newSortBy);\n    const sorted = sortProducts(filteredProducts, newSortBy);\n    setFilteredProducts(sorted);\n  };\n\n  useEffect(() => {\n    // Get subcategory from URL params\n    const subcategory = searchParams.get('subcategory') || 'all';\n    if (subcategory !== activeSubcategory) {\n      setActiveSubcategory(subcategory);\n    }\n  }, [searchParams]);\n\n  // Update filtered products when products or activeSubcategory changes\n  useEffect(() => {\n    if (products.length > 0) {\n      filterProductsBySubcategory(activeSubcategory);\n    }\n  }, [products, activeSubcategory, sortBy]);\n\n  const handleSubcategoryChange = (subcategoryKey) => {\n    setActiveSubcategory(subcategoryKey);\n    \n    // Update URL params\n    if (subcategoryKey === 'all') {\n      setSearchParams({});\n    } else {\n      setSearchParams({ subcategory: subcategoryKey });\n    }\n    \n    // Immediately filter products for real-time updates\n    filterProductsBySubcategory(subcategoryKey);\n  };\n\n  if (loading) {\n    return (\n      <Container>\n        <div className=\"text-center my-5\">\n          <Loader />\n        </div>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container>\n        <Message variant=\"danger\">{error}</Message>\n      </Container>\n    );\n  }\n\n  return (\n    <Container className=\"category-page\">\n      {/* Breadcrumb */}\n      <Breadcrumb className=\"fade-in mb-4\">\n        <Breadcrumb.Item onClick={() => navigate('/')} style={{ cursor: 'pointer' }}>\n          Home\n        </Breadcrumb.Item>\n        <Breadcrumb.Item active>{currentConfig.title}</Breadcrumb.Item>\n      </Breadcrumb>\n\n      {/* Page Header */}\n      <div className=\"category-header fade-in mb-4\">\n        <h1 className=\"display-5 fw-bold text-gradient mb-2\">\n          <i className=\"fas fa-th-large me-3\"></i>\n          {currentConfig.title}\n        </h1>\n        <p className=\"lead text-muted\">\n          Discover amazing products in {currentConfig.title.toLowerCase()}\n        </p>\n      </div>\n\n      {/* Subcategory Filters */}\n      <Card className=\"filter-card fade-in mb-4\" style={{ animationDelay: '0.1s' }}>\n        <Card.Body>\n          <h5 className=\"mb-3\">\n            <i className=\"fas fa-filter me-2\"></i>\n            Browse by Category\n          </h5>\n          <Nav variant=\"pills\" className=\"flex-wrap\">\n            {currentConfig.subcategories.map((subcategory, index) => (\n              <Nav.Item key={subcategory.key} className=\"me-2 mb-2\">\n                <Nav.Link\n                  active={activeSubcategory === subcategory.key}\n                  onClick={() => handleSubcategoryChange(subcategory.key)}\n                  className=\"filter-pill\"\n                  style={{ animationDelay: `${index * 0.1}s` }}\n                >\n                  {subcategory.label}\n                </Nav.Link>\n              </Nav.Item>\n            ))}\n          </Nav>\n        </Card.Body>\n      </Card>\n\n      {/* Products Grid */}\n      <div className=\"products-section fade-in\" style={{ animationDelay: '0.2s' }}>\n        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n          <h4 className=\"mb-0\">\n            {filteredProducts.length} Product{filteredProducts.length !== 1 ? 's' : ''} Found\n          </h4>\n          <div className=\"d-flex align-items-center\">\n            <span className=\"text-muted me-2\">Sort by:</span>\n            <select \n              className=\"form-select form-select-sm\" \n              style={{ width: 'auto' }}\n              value={sortBy}\n              onChange={(e) => handleSortChange(e.target.value)}\n            >\n              <option value=\"relevance\">Relevance</option>\n              <option value=\"price-low-high\">Price: Low to High</option>\n              <option value=\"price-high-low\">Price: High to Low</option>\n              <option value=\"name-asc\">Name: A to Z</option>\n              <option value=\"name-desc\">Name: Z to A</option>\n              <option value=\"newest\">Newest First</option>\n              <option value=\"rating\">Customer Rating</option>\n            </select>\n          </div>\n        </div>\n\n        {filteredProducts.length === 0 ? (\n          <Alert variant=\"info\" className=\"text-center py-5\">\n            <i className=\"fas fa-search fa-3x mb-3 text-muted\"></i>\n            <h4>No products found</h4>\n            <p className=\"mb-3\">\n              We couldn't find any products in this category. Try browsing other categories or check back later.\n            </p>\n            <Button variant=\"primary\" onClick={() => navigate('/')}>\n              <i className=\"fas fa-home me-2\"></i>\n              Back to Home\n            </Button>\n          </Alert>\n        ) : (\n          <Row>\n            {filteredProducts.map((product, index) => (\n              <Col key={product._id} sm={12} md={6} lg={4} xl={3} className=\"mb-4\">\n                <div \n                  className=\"fade-in product-card-wrapper\" \n                  style={{ animationDelay: `${index * 0.1}s` }}\n                >\n                  <ProductCard product={product} />\n                </div>\n              </Col>\n            ))}\n          </Row>\n        )}\n      </div>\n\n      {/* Load More Button (for future pagination) */}\n      {filteredProducts.length > 0 && filteredProducts.length >= 12 && (\n        <div className=\"text-center mt-5 fade-in\" style={{ animationDelay: '0.5s' }}>\n          <Button variant=\"outline-primary\" size=\"lg\">\n            <i className=\"fas fa-plus me-2\"></i>\n            Load More Products\n          </Button>\n        </div>\n      )}\n    </Container>\n  );\n};\n\nexport default CategoryPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}