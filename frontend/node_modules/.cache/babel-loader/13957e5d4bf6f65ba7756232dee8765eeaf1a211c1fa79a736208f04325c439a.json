{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/ShopKart/frontend/src/components/ProductCard.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { Card, Button, Badge } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { CartContext } from '../context/CartContext';\nimport Message from './Message';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  product\n}) => {\n  _s();\n  const {\n    addToCart,\n    error,\n    clearCartError\n  } = useContext(CartContext);\n  const [isAdding, setIsAdding] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n  const addToCartHandler = async () => {\n    try {\n      setIsAdding(true);\n      clearCartError();\n      await addToCart({\n        _id: product._id,\n        name: product.name,\n        image: product.image,\n        price: product.price,\n        countInStock: product.countInStock,\n        quantity: 1\n      });\n\n      // Show success message\n      setShowMessage(true);\n      setTimeout(() => setShowMessage(false), 2000);\n    } catch (error) {\n      console.error('Failed to add to cart:', error);\n    } finally {\n      setIsAdding(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"my-3 p-3 rounded product-card\",\n    children: [showMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-absolute\",\n      style: {\n        top: '10px',\n        right: '10px',\n        zIndex: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"success\",\n        children: \"Added to cart!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/product/${product._id}`,\n      children: /*#__PURE__*/_jsxDEV(Card.Img, {\n        src: product.image,\n        variant: \"top\",\n        alt: product.name,\n        className: \"product-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${product._id}`,\n        className: \"text-decoration-none\",\n        children: /*#__PURE__*/_jsxDEV(Card.Title, {\n          as: \"div\",\n          className: \"product-title\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        as: \"div\",\n        className: \"my-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3\",\n          children: [product.rating || 4, \" from \", product.numReviews || 125, \" reviews\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        as: \"h3\",\n        className: \"product-price\",\n        children: [\"$\", product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: addToCartHandler,\n        disabled: product.countInStock === 0 || isAdding,\n        className: \"btn-block\",\n        children: isAdding ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"spinner-border spinner-border-sm me-2\",\n            role: \"status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), \"Adding...\"]\n        }, void 0, true) : product.countInStock === 0 ? 'Out of Stock' : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-cart-plus me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), \"Add to Cart\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductCard, \"wd69Y77ecr1N3ObCCIxRc2RSbAM=\");\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","useContext","useState","Card","Button","Badge","Link","useNavigate","CartContext","Message","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductCard","product","_s","addToCart","error","clearCartError","isAdding","setIsAdding","showMessage","setShowMessage","addToCartHandler","_id","name","image","price","countInStock","quantity","setTimeout","console","className","children","style","top","right","zIndex","variant","fileName","_jsxFileName","lineNumber","columnNumber","to","Img","src","alt","Body","Title","as","Text","rating","numReviews","onClick","disabled","role","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/ShopKart/frontend/src/components/ProductCard.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Card, Button, Badge } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { CartContext } from '../context/CartContext';\nimport Message from './Message';\n\nconst ProductCard = ({ product }) => {\n  const { addToCart, error, clearCartError } = useContext(CartContext);\n  const [isAdding, setIsAdding] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n\n  const addToCartHandler = async () => {\n    try {\n      setIsAdding(true);\n      clearCartError();\n      \n      await addToCart({\n        _id: product._id,\n        name: product.name,\n        image: product.image,\n        price: product.price,\n        countInStock: product.countInStock,\n        quantity: 1,\n      });\n      \n      // Show success message\n      setShowMessage(true);\n      setTimeout(() => setShowMessage(false), 2000);\n    } catch (error) {\n      console.error('Failed to add to cart:', error);\n    } finally {\n      setIsAdding(false);\n    }\n  };\n\n  return (\n    <Card className=\"my-3 p-3 rounded product-card\">\n      {showMessage && (\n        <div className=\"position-absolute\" style={{ top: '10px', right: '10px', zIndex: 10 }}>\n          <Message variant=\"success\">Added to cart!</Message>\n        </div>\n      )}\n      \n      <Link to={`/product/${product._id}`}>\n        <Card.Img \n          src={product.image} \n          variant=\"top\" \n          alt={product.name}\n          className=\"product-image\"\n        />\n      </Link>\n\n      <Card.Body>\n        <Link to={`/product/${product._id}`} className=\"text-decoration-none\">\n          <Card.Title as=\"div\" className=\"product-title\">\n            <strong>{product.name}</strong>\n          </Card.Title>\n        </Link>\n\n        <Card.Text as=\"div\" className=\"my-3\">\n          <div className=\"my-3\">\n            {product.rating || 4} from {product.numReviews || 125} reviews\n          </div>\n        </Card.Text>\n\n        <Card.Text as=\"h3\" className=\"product-price\">\n          ${product.price}\n        </Card.Text>\n\n        {error && (\n          <div className=\"mb-2\">\n            <Message variant=\"danger\">{error}</Message>\n          </div>\n        )}\n\n        <Button\n          variant=\"primary\"\n          onClick={addToCartHandler}\n          disabled={product.countInStock === 0 || isAdding}\n          className=\"btn-block\"\n        >\n          {isAdding ? (\n            <>\n              <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\n              Adding...\n            </>\n          ) : product.countInStock === 0 ? (\n            'Out of Stock'\n          ) : (\n            <>\n              <i className=\"fas fa-cart-plus me-2\"></i>\n              Add to Cart\n            </>\n          )}\n        </Button>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}