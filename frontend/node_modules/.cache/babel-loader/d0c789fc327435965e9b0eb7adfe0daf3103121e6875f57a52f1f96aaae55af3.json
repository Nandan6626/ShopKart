{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/ShopKart/frontend/src/components/ProductCard.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { Card, Button, Badge } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { CartContext } from '../context/CartContext';\nimport Message from './Message';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductCard = ({\n  product\n}) => {\n  _s();\n  const {\n    addToCart,\n    error,\n    clearCartError\n  } = useContext(CartContext);\n  const [isAdding, setIsAdding] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n  const navigate = useNavigate();\n  const addToCartHandler = async () => {\n    try {\n      setIsAdding(true);\n      clearCartError();\n      await addToCart({\n        _id: product._id,\n        name: product.name,\n        image: product.image,\n        price: product.price,\n        countInStock: product.countInStock,\n        quantity: 1\n      });\n\n      // Show success message\n      setShowMessage(true);\n      setTimeout(() => setShowMessage(false), 2000);\n    } catch (error) {\n      console.error('Failed to add to cart:', error);\n    } finally {\n      setIsAdding(false);\n    }\n  };\n  const handleViewDetails = () => {\n    navigate(`/product/${product._id}`);\n  };\n  const renderStars = rating => {\n    const stars = [];\n    const fullStars = Math.floor(rating || 4);\n    const hasHalfStar = (rating || 4) % 1 !== 0;\n    for (let i = 1; i <= 5; i++) {\n      if (i <= fullStars) {\n        stars.push(/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-star text-warning\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 20\n        }, this));\n      } else if (i === fullStars + 1 && hasHalfStar) {\n        stars.push(/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-star-half-alt text-warning\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 20\n        }, this));\n      } else {\n        stars.push(/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-star text-warning\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 20\n        }, this));\n      }\n    }\n    return stars;\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"my-3 p-3 rounded product-card\",\n    children: [showMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-absolute\",\n      style: {\n        top: '10px',\n        right: '10px',\n        zIndex: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"success\",\n        children: \"Added to cart!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/product/${product._id}`,\n      children: /*#__PURE__*/_jsxDEV(Card.Img, {\n        src: product.image,\n        variant: \"top\",\n        alt: product.name,\n        className: \"product-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${product._id}`,\n        className: \"text-decoration-none\",\n        children: /*#__PURE__*/_jsxDEV(Card.Title, {\n          as: \"div\",\n          className: \"product-title\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        as: \"div\",\n        className: \"my-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3\",\n          children: [product.rating || 4, \" from \", product.numReviews || 125, \" reviews\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        as: \"h3\",\n        className: \"product-price\",\n        children: [\"$\", product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: /*#__PURE__*/_jsxDEV(Message, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: addToCartHandler,\n        disabled: product.countInStock === 0 || isAdding,\n        className: \"btn-block\",\n        children: isAdding ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"spinner-border spinner-border-sm me-2\",\n            role: \"status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), \"Adding...\"]\n        }, void 0, true) : product.countInStock === 0 ? 'Out of Stock' : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-cart-plus me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), \"Add to Cart\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductCard, \"kXi9v10vEeRiGxwOo+tFVshMKzI=\", false, function () {\n  return [useNavigate];\n});\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","useContext","useState","Card","Button","Badge","Link","useNavigate","CartContext","Message","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductCard","product","_s","addToCart","error","clearCartError","isAdding","setIsAdding","showMessage","setShowMessage","navigate","addToCartHandler","_id","name","image","price","countInStock","quantity","setTimeout","console","handleViewDetails","renderStars","rating","stars","fullStars","Math","floor","hasHalfStar","i","push","className","fileName","_jsxFileName","lineNumber","columnNumber","children","style","top","right","zIndex","variant","to","Img","src","alt","Body","Title","as","Text","numReviews","onClick","disabled","role","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/ShopKart/frontend/src/components/ProductCard.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Card, Button, Badge } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { CartContext } from '../context/CartContext';\nimport Message from './Message';\n\nconst ProductCard = ({ product }) => {\n  const { addToCart, error, clearCartError } = useContext(CartContext);\n  const [isAdding, setIsAdding] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n  const navigate = useNavigate();\n\n  const addToCartHandler = async () => {\n    try {\n      setIsAdding(true);\n      clearCartError();\n      \n      await addToCart({\n        _id: product._id,\n        name: product.name,\n        image: product.image,\n        price: product.price,\n        countInStock: product.countInStock,\n        quantity: 1,\n      });\n      \n      // Show success message\n      setShowMessage(true);\n      setTimeout(() => setShowMessage(false), 2000);\n    } catch (error) {\n      console.error('Failed to add to cart:', error);\n    } finally {\n      setIsAdding(false);\n    }\n  };\n\n  const handleViewDetails = () => {\n    navigate(`/product/${product._id}`);\n  };\n\n  const renderStars = (rating) => {\n    const stars = [];\n    const fullStars = Math.floor(rating || 4);\n    const hasHalfStar = (rating || 4) % 1 !== 0;\n    \n    for (let i = 1; i <= 5; i++) {\n      if (i <= fullStars) {\n        stars.push(<i key={i} className=\"fas fa-star text-warning\"></i>);\n      } else if (i === fullStars + 1 && hasHalfStar) {\n        stars.push(<i key={i} className=\"fas fa-star-half-alt text-warning\"></i>);\n      } else {\n        stars.push(<i key={i} className=\"far fa-star text-warning\"></i>);\n      }\n    }\n    return stars;\n  };\n\n  return (\n    <Card className=\"my-3 p-3 rounded product-card\">\n      {showMessage && (\n        <div className=\"position-absolute\" style={{ top: '10px', right: '10px', zIndex: 10 }}>\n          <Message variant=\"success\">Added to cart!</Message>\n        </div>\n      )}\n      \n      <Link to={`/product/${product._id}`}>\n        <Card.Img \n          src={product.image} \n          variant=\"top\" \n          alt={product.name}\n          className=\"product-image\"\n        />\n      </Link>\n\n      <Card.Body>\n        <Link to={`/product/${product._id}`} className=\"text-decoration-none\">\n          <Card.Title as=\"div\" className=\"product-title\">\n            <strong>{product.name}</strong>\n          </Card.Title>\n        </Link>\n\n        <Card.Text as=\"div\" className=\"my-3\">\n          <div className=\"my-3\">\n            {product.rating || 4} from {product.numReviews || 125} reviews\n          </div>\n        </Card.Text>\n\n        <Card.Text as=\"h3\" className=\"product-price\">\n          ${product.price}\n        </Card.Text>\n\n        {error && (\n          <div className=\"mb-2\">\n            <Message variant=\"danger\">{error}</Message>\n          </div>\n        )}\n\n        <Button\n          variant=\"primary\"\n          onClick={addToCartHandler}\n          disabled={product.countInStock === 0 || isAdding}\n          className=\"btn-block\"\n        >\n          {isAdding ? (\n            <>\n              <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\n              Adding...\n            </>\n          ) : product.countInStock === 0 ? (\n            'Out of Stock'\n          ) : (\n            <>\n              <i className=\"fas fa-cart-plus me-2\"></i>\n              Add to Cart\n            </>\n          )}\n        </Button>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}